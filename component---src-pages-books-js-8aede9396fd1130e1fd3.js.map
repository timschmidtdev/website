{"version":3,"sources":["webpack:///./src/pages/books.js"],"names":["StyledUl","styled","ul","StyledLi","li","Book","props","href","url","target","rel","title","author","year","Books","data","booksByTag","Favorites","Technology","allContentfulBook","edges","forEach","book","node","bookTagReference","tag","Object","keys","bookTag","push","buildBookSection","map","description","headerText"],"mappings":"0bAOA,IAAMA,EAAWC,IAAOC,GAAV,KAIRC,EAAWF,IAAOG,GAAV,KAIRC,EAAO,SAAAC,GAAK,OAChB,kBAACH,EAAD,KACE,uBAAGI,KAAMD,EAAME,IAAKC,OAAO,SAASC,IAAI,cACtC,2BAAIJ,EAAMK,OACV,6BACCL,EAAMM,OACP,6BACCN,EAAMO,QAmEEC,UA5CD,WACZ,IAAMC,EAAI,OACJC,EAAa,CACjBC,UAAW,GACXC,WAAY,GACZ,UAAW,IAEbH,EAAKI,kBAAkBC,MAAMC,SAAQ,SAAAC,GAAI,OACvCA,EAAKC,KAAKC,iBAAiBH,SAAQ,SAAAI,GAAG,OACpCC,OAAOC,KAAKX,GAAYK,SAAQ,SAAAO,GAC1BA,IAAYH,EAAId,OAClBK,EAAWY,GAASC,KAAKP,YAKjC,IAAMQ,EAAmB,SAAAL,GAAG,OAC1B,kBAACzB,EAAD,KACGgB,EAAWS,GAAKM,KAAI,SAAAT,GACnB,OACE,kBAACjB,EAAD,CACEO,OAAQU,EAAKC,KAAKX,OAClBD,MAAOW,EAAKC,KAAKZ,MACjBE,KAAMS,EAAKC,KAAKV,KAChBL,IAAKc,EAAKC,KAAKf,WAMzB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKG,MAAM,QAAQqB,YAAY,6BAC/B,kBAAC,IAAD,CAAQC,WAAW,cACnB,uCACCH,EAAiB,WAClB,8CACCA,EAAiB,aAClB,0CACCA,EAAiB,iB","file":"component---src-pages-books-js-8aede9396fd1130e1fd3.js","sourcesContent":["import React from \"react\"\nimport styled from \"styled-components\"\nimport Layout from \"../components/layout\"\nimport Header from \"../components/header\"\nimport { graphql, useStaticQuery } from \"gatsby\"\nimport SEO from \"../components/seo\"\n\nconst StyledUl = styled.ul`\n  line-height: 1.5rem;\n`\n\nconst StyledLi = styled.li`\n  margin: 0.75rem 0;\n`\n\nconst Book = props => (\n  <StyledLi>\n    <a href={props.url} target=\"_blank\" rel=\"noreferrer\">\n      <i>{props.title}</i>\n      <br />\n      {props.author}\n      <br />\n      {props.year}\n    </a>\n  </StyledLi>\n)\n\nconst bookQuery = graphql`\n  query {\n    allContentfulBook {\n      edges {\n        node {\n          author\n          title\n          year\n          url\n          bookTagReference {\n            title\n          }\n        }\n      }\n    }\n  }\n`\n\nconst Books = () => {\n  const data = useStaticQuery(bookQuery)\n  const booksByTag = {\n    Favorites: [],\n    Technology: [],\n    \"Up Next\": [],\n  }\n  data.allContentfulBook.edges.forEach(book =>\n    book.node.bookTagReference.forEach(tag =>\n      Object.keys(booksByTag).forEach(bookTag => {\n        if (bookTag === tag.title) {\n          booksByTag[bookTag].push(book)\n        }\n      })\n    )\n  )\n  const buildBookSection = tag => (\n    <StyledUl>\n      {booksByTag[tag].map(book => {\n        return (\n          <Book\n            author={book.node.author}\n            title={book.node.title}\n            year={book.node.year}\n            url={book.node.url}\n          />\n        )\n      })}\n    </StyledUl>\n  )\n  return (\n    <Layout>\n      <SEO title=\"Books\" description=\"Books recommended by Tim\" />\n      <Header headerText=\"Book List\" />\n      <h2>Up Next</h2>\n      {buildBookSection(\"Up Next\")}\n      <h2>Some Favorites</h2>\n      {buildBookSection(\"Favorites\")}\n      <h2>Technology</h2>\n      {buildBookSection(\"Technology\")}\n    </Layout>\n  )\n}\n\nexport default Books\n"],"sourceRoot":""}